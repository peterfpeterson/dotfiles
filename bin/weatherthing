#!/usr/bin/bash
txt_file=~/.cache/weather.txt
png_file=~/.cache/weather.png

# fetch the weather
# the sed command changes hh:mm:ss to hh:mm
weather --conky | sed -r 's/([0-9]{2}:[0-9]{2}):[0-9]{2}/\1/g' > "${txt_file}" || exit 1

# convert to an image
pango-view --background=transparent --foreground="#888888" --font "FiraCode Nerd Font Mono Bold" -qo "${png_file}" "${txt_file}" || exit 2
